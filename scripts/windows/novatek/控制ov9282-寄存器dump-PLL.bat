@echo off

chcp.com 65001

set CUR_DIR=%~dp0

set PATH=%SystemRoot%;%SystemRoot%\system32;%CUR_DIR%\..\bin\;

::         寄存器和数值
set regaddr=0x03 0x00
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37


set regaddr=0x03 0x01
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x02
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x03
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x04
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x05
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x06
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37


::#################################


set regaddr=0x03 0x0a
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x0b
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x0c
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x0d
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x0e
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x0f
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37


::#################################



set regaddr=0x03 0x12
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x13
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x03 0x14
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x48 0x37
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

set regaddr=0x31 0x03
echo %regaddr%
for /f "delims=" %%f in ('checksum.exe 0x6e 0x6 0x12 0x08 0xC0 %regaddr% 0x01') do (set checksum=%%f)
udb.exe shell himax-w 8 0x06 0x12 0x08 0xC0 %regaddr% 0x01 %checksum%
udb.exe shell i2ctransfer -f -y 2 r7@0x37

pause

::i2ctransfer  -f -y 2 w8@0x37 0x06 0x11 0x08 0xC0 0x35 0x09 0x10 0x9d
::i2ctransfer  -f -y 2 w8@0x37 0x06 0x12 0x08 0xC0 0x35 0x09 0x01 0x8F
::i2ctransfer  -f -y 2 r7@0x37